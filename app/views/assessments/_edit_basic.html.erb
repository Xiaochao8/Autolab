<%= f.text_field :name, disabled: true, class: "",
  help_text: "The unique (for this course) name of the assessment. Must be
  lowercase alphanumeric (no punctuation). E.g.,
  <kbd>malloclab</kbd>".html_safe %>

<%= f.text_field :display_name, placeholder: Sgtn.t('assessments.Homework0', 'views'),
  help_text: "Name that will be displayed on the course home page. E.g.,
  'Malloc Lab'" %>

<div class="input-field">
  <%= f.label :category_name, { :class=>"control-label" } %>
  <%= f.collection_select :category_name, @course.assessment_categories, :to_s, :to_s, {selected: @assessment.category_name} %>
  or
  <%= text_field_tag :new_category, nil, placeholder: Sgtn.t('assessments.New.Category', 'views') %>
  <p class="help-block">Select an existing category or enter a new category name <i>(you can always change it later)</i></p>
</div>

<div class="assessments-label">
	<%= f.text_area  :description, class: "materialize-textarea", help_text: "", placeholder: Sgtn.t('assessments.Optional.Description.of.assessment', 'views') %>

	<%= f.text_field :handout, help_text: "File path from the assessment directory containing materials that the instructor hands out to students, or a URL to redirect to.", placeholder: Sgtn.t('assessments.E.g.malloclab.zip.or.http.school.edu.class.malloclab.zip', 'views') %>

	<%= f.text_field :writeup, help_text: "File path from the assessment directory containing instructions to students, or a URL to redirect to.", placeholder: Sgtn.t('assessments.E.g.writeup.pdf.or.http.school.edu.class.writeup.pdf', 'views') %>
</div>

<%= f.file_field :config_file, button_text: "Upload #{@assessment.name}.rb", help_text: "Config file will be automatically reloaded after saving. Changes to other settings will be lost if an error is encountered." %>

<h4>Modules Used</h4>
<ul class="collection attachments">
  <li class="collection-item">
    Autograder
    <span class="secondary-content">
      <% if @assessment.has_autograder? %>
        <%= link_to "<i class=\"material-icons left\">#{Sgtn.t('assessments.mode_edit', 'views')}</i>".html_safe, [:edit, @course, @assessment, :autograder], class: "small" %>
        <%= link_to "<i class=\"material-icons left\">#{Sgtn.t('assessments.delete', 'views')}</i>".html_safe, [@course, @assessment, :autograder], method: :delete, class: "small",
                data: {confirm: Sgtn.t('assessments.Are.you.sure.you.want.to.delete.the.Autograder.for.this.assessment', 'views')} %>
      <% else %>
        <%= link_to "<i class=\"material-icons left\">#{Sgtn.t('assessments.add', 'views')}</i>".html_safe, [@course, @assessment, :autograder], method: :post, class: "small" %>
      <% end %>
    </span>
  </li>
  <li class="collection-item">
    Scoreboard
    <span class="secondary-content">
      <% if @assessment.has_scoreboard? %>
        <%= link_to "<i class=\"material-icons left\">#{Sgtn.t('assessments.mode_edit', 'views')}</i>".html_safe, [:edit, @course, @assessment, :scoreboard], class: "small" %>
        <%= link_to "<i class=\"material-icons left\">#{Sgtn.t('assessments.delete', 'views')}</i>".html_safe, [@course, @assessment, :scoreboard], method: :delete, class: "small", data: {confirm: Sgtn.t('assessments.Are.you.sure.you.want.to.delete.the.Scoreboard.for.this.assessment', 'views')} %>
      <% else %>
        <%= link_to "<i class=\"material-icons left\">#{Sgtn.t('assessments.add', 'views')}</i>".html_safe, [@course, @assessment, :scoreboard], method: :post, class: "small" %>
      <% end %>
    </span>
  </li>
</ul>

<div class="action_buttons">
  <%= f.submit "Save" %>
  <button class="delete_btn"> 
    <%= link_to Sgtn.t('assessments.Delete.Assessment', 'views'), course_assessment_path(@course, @assessment), method: :delete, class: 'btn btn-danger', data: { confirm: Sgtn.t('assessments.Deleting.will.delete.all.associated.assessment.data.and.cannot.be.undone.Are.you.sure.you.want', 'views') } %>
  </button>
</div>
